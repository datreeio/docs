---
title: ‚òëÔ∏è Ensure Deployment has a configured `env` label
slug: /built-in-rules/ensure-env-label
---

import Complexity from "@site/src/components/complexity/ComplexityWindow.js";

Having an `env` label is useful for performing bulk operations in specific environments or for filtering Deployments according to their stage. Recommended values for this key are: _prod / staging / qa / admin / testing_.

:::tip

## FYI

Labels' keys and values are case-sensitive!
:::

**Targeted objects by this rule (types of **`kind`**): **Deployment

**Complexity:** **medium** (<Complexity/>)

**Policy as code identifier:** DEPLOYMENT_MISSING_LABEL_ENV_VALUE

---

## This rule will fail

If the `env` key is missing from the `labels` section

```yaml
kind: Deployment
metadata:
  labels:
    owner: yoda-at-datree.io
```

### Rule output in the CLI

```terminal
$ datree test *.yaml

>> File: failExample.yaml
‚ùå Ensure Deployment has a configured `env` label [1 occurrence]
üí° Missing label object `env` - add a proper environment description (e.g. `prod`, `testing`, etc.) to the Deployment config
```

---

## How to fix this failure

```yaml
kind: Deployment
metadata:
  labels:
    env: prod
    owner: yoda-at-datree.io
```

---

## Read more

- [A Kubernetes guide for labels and selectors - labels use cases](https://www.datree.io/resources/a-kubernetes-guide-for-labels-and-selectors#anchor5)
